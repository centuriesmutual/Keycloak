{
  "id": "CenturiesMutual-Users",
  "realm": "CenturiesMutual-Users",
  "displayName": "Centuries Mutual Customer Portal",
  "enabled": true,
  "registrationAllowed": true,
  "registrationEmailAsUsername": false,
  "rememberMe": true,
  "verifyEmail": true,
  "resetPasswordAllowed": true,
  "editUsernameAllowed": false,
  "bruteForceProtected": true,
  "permanentLockout": false,
  "maxFailureWaitSeconds": 900,
  "minimumQuickLoginWaitSeconds": 60,
  "waitIncrementSeconds": 60,
  "quickLoginCheckMilliSeconds": 1000,
  "maxDeltaTimeSeconds": 43200,
  "failureFactor": 30,
  "sslRequired": "external",
  "loginTheme": "keycloak",
  "accountTheme": "keycloak",
  "adminTheme": "keycloak",
  "emailTheme": "keycloak",
  "internationalizationEnabled": true,
  "supportedLocales": ["en"],
  "defaultLocale": "en",
  
  "passwordPolicy": "length(12) and upperCase(1) and lowerCase(1) and digits(1) and specialChars(1) and notUsername()",
  
  "otpPolicyType": "totp",
  "otpPolicyAlgorithm": "HmacSHA1",
  "otpPolicyInitialCounter": 0,
  "otpPolicyDigits": 6,
  "otpPolicyLookAheadWindow": 1,
  "otpPolicyPeriod": 30,
  
  "requiredActions": [
    {
      "alias": "CONFIGURE_TOTP",
      "name": "Configure OTP",
      "providerId": "CONFIGURE_TOTP",
      "enabled": true,
      "defaultAction": true,
      "priority": 10,
      "config": {}
    },
    {
      "alias": "VERIFY_EMAIL",
      "name": "Verify Email",
      "providerId": "VERIFY_EMAIL",
      "enabled": true,
      "defaultAction": false,
      "priority": 50,
      "config": {}
    }
  ],
  
  "browserFlow": "browser",
  "registrationFlow": "registration",
  "directGrantFlow": "direct grant",
  "resetCredentialsFlow": "reset credentials",
  "clientAuthenticationFlow": "clients",
  
  "attributes": {
    "frontendUrl": "${keycloak.frontendUrl}",
    "_browser_header.xContentTypeOptions": "nosniff",
    "_browser_header.xRobotsTag": "none",
    "_browser_header.xFrameOptions": "SAMEORIGIN",
    "_browser_header.contentSecurityPolicy": "frame-src 'self'; frame-ancestors 'self'; object-src 'none';",
    "_browser_header.xXSSProtection": "1; mode=block",
    "_browser_header.strictTransportSecurity": "max-age=31536000; includeSubDomains"
  },
  
  "roles": {
    "realm": [
      {
        "name": "basic_user",
        "description": "Basic user with standard access",
        "composite": false,
        "clientRole": false
      },
      {
        "name": "premium_user",
        "description": "Premium user with enhanced features",
        "composite": false,
        "clientRole": false
      },
      {
        "name": "beta_tester",
        "description": "Beta testing access",
        "composite": false,
        "clientRole": false
      }
    ]
  },
  
  "groups": [
    {
      "name": "Basic Users",
      "path": "/Basic Users",
      "attributes": {},
      "realmRoles": ["basic_user"],
      "clientRoles": {}
    },
    {
      "name": "Premium Users",
      "path": "/Premium Users",
      "attributes": {},
      "realmRoles": ["premium_user"],
      "clientRoles": {}
    },
    {
      "name": "Beta Testers",
      "path": "/Beta Testers",
      "attributes": {},
      "realmRoles": ["beta_tester"],
      "clientRoles": {}
    }
  ],
  
  "defaultGroups": [
    "/Basic Users"
  ],
  
  "clients": [
    {
      "clientId": "home-ios",
      "name": "Home iOS App",
      "description": "Centuries Mutual Home iOS Application",
      "rootUrl": "centuriesmutual://home",
      "adminUrl": "",
      "baseUrl": "centuriesmutual://home",
      "surrogateAuthRequired": false,
      "enabled": true,
      "alwaysDisplayInConsole": false,
      "clientAuthenticatorType": "client-secret",
      "redirectUris": [
        "centuriesmutual://home/callback",
        "centuriesmutual://home/redirect",
        "com.centuriesmutual.home://oauth/callback"
      ],
      "webOrigins": [],
      "notBefore": 0,
      "bearerOnly": false,
      "consentRequired": false,
      "standardFlowEnabled": true,
      "implicitFlowEnabled": false,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "publicClient": true,
      "frontchannelLogout": false,
      "protocol": "openid-connect",
      "attributes": {
        "pkce.code.challenge.method": "S256",
        "use.refresh.tokens": "true",
        "access.token.lifespan": "900",
        "client.session.idle.timeout": "1800",
        "client.session.max.lifespan": "36000"
      },
      "authenticationFlowBindingOverrides": {},
      "fullScopeAllowed": false,
      "nodeReRegistrationTimeout": -1,
      "defaultClientScopes": ["web-origins", "profile", "roles", "email"],
      "optionalClientScopes": ["address", "phone", "offline_access"]
    },
    {
      "clientId": "saintdaniels-ios",
      "name": "Saint Daniels iOS App",
      "description": "Saint Daniels iOS Application",
      "rootUrl": "centuriesmutual://saintdaniels",
      "adminUrl": "",
      "baseUrl": "centuriesmutual://saintdaniels",
      "surrogateAuthRequired": false,
      "enabled": true,
      "alwaysDisplayInConsole": false,
      "clientAuthenticatorType": "client-secret",
      "redirectUris": [
        "centuriesmutual://saintdaniels/callback",
        "centuriesmutual://saintdaniels/redirect",
        "com.centuriesmutual.saintdaniels://oauth/callback"
      ],
      "webOrigins": [],
      "notBefore": 0,
      "bearerOnly": false,
      "consentRequired": false,
      "standardFlowEnabled": true,
      "implicitFlowEnabled": false,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "publicClient": true,
      "frontchannelLogout": false,
      "protocol": "openid-connect",
      "attributes": {
        "pkce.code.challenge.method": "S256",
        "use.refresh.tokens": "true",
        "access.token.lifespan": "900",
        "client.session.idle.timeout": "1800",
        "client.session.max.lifespan": "36000"
      },
      "authenticationFlowBindingOverrides": {},
      "fullScopeAllowed": false,
      "nodeReRegistrationTimeout": -1,
      "defaultClientScopes": ["web-origins", "profile", "roles", "email"],
      "optionalClientScopes": ["address", "phone", "offline_access"]
    },
    {
      "clientId": "mybrotherskeeper-ios",
      "name": "My Brothers Keeper iOS App",
      "description": "My Brothers Keeper iOS Application",
      "rootUrl": "centuriesmutual://mybrotherskeeper",
      "adminUrl": "",
      "baseUrl": "centuriesmutual://mybrotherskeeper",
      "surrogateAuthRequired": false,
      "enabled": true,
      "alwaysDisplayInConsole": false,
      "clientAuthenticatorType": "client-secret",
      "redirectUris": [
        "centuriesmutual://mybrotherskeeper/callback",
        "centuriesmutual://mybrotherskeeper/redirect",
        "com.centuriesmutual.mybrotherskeeper://oauth/callback"
      ],
      "webOrigins": [],
      "notBefore": 0,
      "bearerOnly": false,
      "consentRequired": false,
      "standardFlowEnabled": true,
      "implicitFlowEnabled": false,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "publicClient": true,
      "frontchannelLogout": false,
      "protocol": "openid-connect",
      "attributes": {
        "pkce.code.challenge.method": "S256",
        "use.refresh.tokens": "true",
        "access.token.lifespan": "900",
        "client.session.idle.timeout": "1800",
        "client.session.max.lifespan": "36000"
      },
      "authenticationFlowBindingOverrides": {},
      "fullScopeAllowed": false,
      "nodeReRegistrationTimeout": -1,
      "defaultClientScopes": ["web-origins", "profile", "roles", "email"],
      "optionalClientScopes": ["address", "phone", "offline_access"]
    },
    {
      "clientId": "druemaison-ios",
      "name": "Drue Maison iOS App",
      "description": "Drue Maison iOS Application",
      "rootUrl": "centuriesmutual://druemaison",
      "adminUrl": "",
      "baseUrl": "centuriesmutual://druemaison",
      "surrogateAuthRequired": false,
      "enabled": true,
      "alwaysDisplayInConsole": false,
      "clientAuthenticatorType": "client-secret",
      "redirectUris": [
        "centuriesmutual://druemaison/callback",
        "centuriesmutual://druemaison/redirect",
        "com.centuriesmutual.druemaison://oauth/callback"
      ],
      "webOrigins": [],
      "notBefore": 0,
      "bearerOnly": false,
      "consentRequired": false,
      "standardFlowEnabled": true,
      "implicitFlowEnabled": false,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "publicClient": true,
      "frontchannelLogout": false,
      "protocol": "openid-connect",
      "attributes": {
        "pkce.code.challenge.method": "S256",
        "use.refresh.tokens": "true",
        "access.token.lifespan": "900",
        "client.session.idle.timeout": "1800",
        "client.session.max.lifespan": "36000"
      },
      "authenticationFlowBindingOverrides": {},
      "fullScopeAllowed": false,
      "nodeReRegistrationTimeout": -1,
      "defaultClientScopes": ["web-origins", "profile", "roles", "email"],
      "optionalClientScopes": ["address", "phone", "offline_access"]
    },
    {
      "clientId": "lightrain-ios",
      "name": "Light Rain iOS App",
      "description": "Light Rain iOS Application",
      "rootUrl": "centuriesmutual://lightrain",
      "adminUrl": "",
      "baseUrl": "centuriesmutual://lightrain",
      "surrogateAuthRequired": false,
      "enabled": true,
      "alwaysDisplayInConsole": false,
      "clientAuthenticatorType": "client-secret",
      "redirectUris": [
        "centuriesmutual://lightrain/callback",
        "centuriesmutual://lightrain/redirect",
        "com.centuriesmutual.lightrain://oauth/callback"
      ],
      "webOrigins": [],
      "notBefore": 0,
      "bearerOnly": false,
      "consentRequired": false,
      "standardFlowEnabled": true,
      "implicitFlowEnabled": false,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "publicClient": true,
      "frontchannelLogout": false,
      "protocol": "openid-connect",
      "attributes": {
        "pkce.code.challenge.method": "S256",
        "use.refresh.tokens": "true",
        "access.token.lifespan": "900",
        "client.session.idle.timeout": "1800",
        "client.session.max.lifespan": "36000"
      },
      "authenticationFlowBindingOverrides": {},
      "fullScopeAllowed": false,
      "nodeReRegistrationTimeout": -1,
      "defaultClientScopes": ["web-origins", "profile", "roles", "email"],
      "optionalClientScopes": ["address", "phone", "offline_access"]
    },
    {
      "clientId": "conservatory-ios",
      "name": "Conservatory iOS App",
      "description": "Conservatory iOS Application",
      "rootUrl": "centuriesmutual://conservatory",
      "adminUrl": "",
      "baseUrl": "centuriesmutual://conservatory",
      "surrogateAuthRequired": false,
      "enabled": true,
      "alwaysDisplayInConsole": false,
      "clientAuthenticatorType": "client-secret",
      "redirectUris": [
        "centuriesmutual://conservatory/callback",
        "centuriesmutual://conservatory/redirect",
        "com.centuriesmutual.conservatory://oauth/callback"
      ],
      "webOrigins": [],
      "notBefore": 0,
      "bearerOnly": false,
      "consentRequired": false,
      "standardFlowEnabled": true,
      "implicitFlowEnabled": false,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "publicClient": true,
      "frontchannelLogout": false,
      "protocol": "openid-connect",
      "attributes": {
        "pkce.code.challenge.method": "S256",
        "use.refresh.tokens": "true",
        "access.token.lifespan": "900",
        "client.session.idle.timeout": "1800",
        "client.session.max.lifespan": "36000"
      },
      "authenticationFlowBindingOverrides": {},
      "fullScopeAllowed": false,
      "nodeReRegistrationTimeout": -1,
      "defaultClientScopes": ["web-origins", "profile", "roles", "email"],
      "optionalClientScopes": ["address", "phone", "offline_access"]
    }
  ],
  
  "clientScopes": [
    {
      "name": "roles",
      "description": "OpenID Connect scope for add user roles to the access token",
      "protocol": "openid-connect",
      "attributes": {
        "include.in.token.scope": "false",
        "display.on.consent.screen": "true",
        "consent.screen.text": "${rolesScopeConsentText}"
      },
      "protocolMappers": [
        {
          "name": "realm roles",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-usermodel-realm-role-mapper",
          "consentRequired": false,
          "config": {
            "multivalued": "true",
            "user.attribute": "foo",
            "access.token.claim": "true",
            "claim.name": "realm_access.roles",
            "jsonType.label": "String"
          }
        },
        {
          "name": "client roles",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-usermodel-client-role-mapper",
          "consentRequired": false,
          "config": {
            "multivalued": "true",
            "user.attribute": "foo",
            "access.token.claim": "true",
            "claim.name": "resource_access.${client_id}.roles",
            "jsonType.label": "String"
          }
        }
      ]
    }
  ],
  
  "identityProviders": [
    {
      "alias": "google",
      "internalId": "google-idp",
      "providerId": "google",
      "enabled": true,
      "updateProfileFirstLoginMode": "on",
      "trustEmail": true,
      "storeToken": false,
      "addReadTokenRoleOnCreate": false,
      "authenticateByDefault": false,
      "linkOnly": false,
      "firstBrokerLoginFlowAlias": "first broker login",
      "config": {
        "clientId": "${GOOGLE_CLIENT_ID}",
        "clientSecret": "${GOOGLE_CLIENT_SECRET}",
        "hostedDomain": "",
        "useJwksUrl": "true",
        "hideOnLoginPage": "false",
        "userIp": "false",
        "offlineAccess": "false",
        "syncMode": "IMPORT"
      }
    },
    {
      "alias": "facebook",
      "internalId": "facebook-idp",
      "providerId": "facebook",
      "enabled": true,
      "updateProfileFirstLoginMode": "on",
      "trustEmail": true,
      "storeToken": false,
      "addReadTokenRoleOnCreate": false,
      "authenticateByDefault": false,
      "linkOnly": false,
      "firstBrokerLoginFlowAlias": "first broker login",
      "config": {
        "clientId": "${FACEBOOK_APP_ID}",
        "clientSecret": "${FACEBOOK_APP_SECRET}",
        "defaultScopes": "email public_profile",
        "hideOnLoginPage": "false",
        "syncMode": "IMPORT"
      }
    },
    {
      "alias": "apple",
      "internalId": "apple-idp",
      "providerId": "apple",
      "enabled": true,
      "updateProfileFirstLoginMode": "on",
      "trustEmail": true,
      "storeToken": false,
      "addReadTokenRoleOnCreate": false,
      "authenticateByDefault": false,
      "linkOnly": false,
      "firstBrokerLoginFlowAlias": "first broker login",
      "config": {
        "clientId": "${APPLE_SERVICE_ID}",
        "teamId": "${APPLE_TEAM_ID}",
        "keyId": "${APPLE_KEY_ID}",
        "clientSecret": "${APPLE_PRIVATE_KEY}",
        "hideOnLoginPage": "false",
        "syncMode": "IMPORT"
      }
    }
  ],
  
  "identityProviderMappers": [
    {
      "name": "google-role-mapper",
      "identityProviderAlias": "google",
      "identityProviderMapper": "hardcoded-role-idp-mapper",
      "config": {
        "role": "basic_user"
      }
    },
    {
      "name": "facebook-role-mapper",
      "identityProviderAlias": "facebook",
      "identityProviderMapper": "hardcoded-role-idp-mapper",
      "config": {
        "role": "basic_user"
      }
    },
    {
      "name": "apple-role-mapper",
      "identityProviderAlias": "apple",
      "identityProviderMapper": "hardcoded-role-idp-mapper",
      "config": {
        "role": "basic_user"
      }
    }
  ],
  
  "users": [
    {
      "username": "john.doe",
      "enabled": true,
      "emailVerified": true,
      "firstName": "John",
      "lastName": "Doe",
      "email": "john.doe@centuriesmutual.com",
      "credentials": [
        {
          "type": "password",
          "value": "Welcome@2024!",
          "temporary": false
        }
      ],
      "realmRoles": ["basic_user"],
      "groups": ["/Basic Users"]
    },
    {
      "username": "jane.premium",
      "enabled": true,
      "emailVerified": true,
      "firstName": "Jane",
      "lastName": "Premium",
      "email": "jane.premium@centuriesmutual.com",
      "credentials": [
        {
          "type": "password",
          "value": "Premium@2024!",
          "temporary": false
        }
      ],
      "realmRoles": ["premium_user"],
      "groups": ["/Premium Users"]
    },
    {
      "username": "bob.tester",
      "enabled": true,
      "emailVerified": true,
      "firstName": "Bob",
      "lastName": "Tester",
      "email": "bob.tester@centuriesmutual.com",
      "credentials": [
        {
          "type": "password",
          "value": "Testing@2024!",
          "temporary": false
        }
      ],
      "realmRoles": ["beta_tester", "basic_user"],
      "groups": ["/Beta Testers", "/Basic Users"]
    }
  ],
  
  "browserSecurityHeaders": {
    "xContentTypeOptions": "nosniff",
    "xRobotsTag": "none",
    "xFrameOptions": "SAMEORIGIN",
    "contentSecurityPolicy": "frame-src 'self'; frame-ancestors 'self'; object-src 'none';",
    "xXSSProtection": "1; mode=block",
    "strictTransportSecurity": "max-age=31536000; includeSubDomains"
  },
  
  "smtpServer": {
    "host": "${SMTP_HOST}",
    "port": "${SMTP_PORT}",
    "from": "noreply@centuriesmutual.com",
    "fromDisplayName": "Centuries Mutual",
    "ssl": "true",
    "starttls": "true",
    "auth": "true",
    "user": "${SMTP_USER}",
    "password": "${SMTP_PASSWORD}"
  }
}